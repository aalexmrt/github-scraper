# ============================================
# GitHub Scraper - Deployment Environment Variables Template
# ============================================
# Copy this file to .env.deploy and fill in your actual values
# DO NOT commit .env.deploy with real values to git!

# ============================================
# GCP Deployment Configuration
# ============================================
# These are used by deploy.sh and Cloud Run deployment scripts
PROJECT_ID=your-gcp-project-id
REGION=us-east1
REPOSITORY=github-scraper

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string (from Neon, Supabase, or your PostgreSQL instance)
DATABASE_URL=postgresql://user:password@host:5432/database_name

# ============================================
# Redis Configuration
# ============================================
# Redis connection settings (from Upstash, Redis Cloud, or your Redis instance)
REDIS_HOST=your-redis-host.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_TLS=true

# ============================================
# GitHub OAuth Configuration
# ============================================
# Create a GitHub OAuth App at: https://github.com/settings/developers
# Production OAuth App callback URL: https://your-backend-url.run.app/auth/github/callback
GITHUB_CLIENT_ID=your_production_github_oauth_client_id
GITHUB_CLIENT_SECRET=your_production_github_oauth_client_secret

# ============================================
# GitHub Personal Access Token (Optional)
# ============================================
# Optional: Fallback GitHub token for API requests
# Create at: https://github.com/settings/tokens
# Required scopes: read:user, repo (for private repos)
GITHUB_TOKEN=your_github_personal_access_token

# ============================================
# Session & Authentication Configuration
# ============================================
# Generate a secure random string: openssl rand -base64 32
SESSION_SECRET=your-super-secret-session-key-min-32-characters-change-in-production

# Optional: JWT Secret (falls back to SESSION_SECRET if not set)
# Generate a secure random string: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-key-min-32-characters-change-in-production

# ============================================
# Application URLs
# ============================================
# Frontend URL (Vercel production URL)
FRONTEND_URL=https://your-app.vercel.app

# Backend URL (Cloud Run URL)
BACKEND_URL=https://your-backend-url.run.app

# ============================================
# Cloudflare R2 Storage Configuration
# ============================================
# Enable R2 storage for production (set to 'true' for production)
USE_R2_STORAGE=true

# R2 credentials from Cloudflare Dashboard
# Get these from: Cloudflare Dashboard > R2 > Manage R2 API Tokens
R2_ACCOUNT_ID=your-cloudflare-r2-account-id
R2_ACCESS_KEY_ID=your-cloudflare-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-cloudflare-r2-secret-access-key
R2_BUCKET_NAME=github-repos

# ============================================
# Application Configuration
# ============================================
# Node environment
NODE_ENV=production

# Server port (Cloud Run sets this automatically, but can override)
PORT=8080

# Populate demo repositories on startup (set to 'true' to enable)
POPULATE_DEMO_REPOS=false

# ============================================
# Frontend Environment Variables
# ============================================
# These should be set in Vercel environment variables or frontend/.env.local
# NEXT_PUBLIC_API_URL=https://your-backend-url.run.app
# NEXT_PUBLIC_SITE_URL=https://your-app.vercel.app

# ============================================
# Notes
# ============================================
# 1. For production deployment, secrets should be stored in GCP Secret Manager
#    Use create-secrets.sh script to create secrets from these values
#
# 2. Frontend variables (NEXT_PUBLIC_*) should be set in Vercel:
#    - Go to Vercel Dashboard > Your Project > Settings > Environment Variables
#    - Add NEXT_PUBLIC_API_URL and NEXT_PUBLIC_SITE_URL
#
# 3. Backend secrets are referenced in cloudrun.yaml.template from GCP Secret Manager
#    The create-secrets.sh script will create these secrets for you
#
# 4. Never commit this file with real values to git!
#    Add .env.deploy to .gitignore if it's not already there

